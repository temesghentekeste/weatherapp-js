(()=>{var e={238:e=>{e.exports={weatherAPIKey:"f4ee7dee04a4c7637f42dc36dd60112d"}}},n={};function t(s){if(n[s])return n[s].exports;var a=n[s]={exports:{}};return e[s](a,a.exports,t),a.exports}(()=>{"use strict";var e=t(238);const n=e=>+`${Math.round(`${e}e+2`)}e-2`,s=(e,t,s,a)=>{e=parseFloat(e),t=parseFloat(t),s=parseFloat(s);let r={};return"F"===a?(e=9*e/5+32,t=9*t/5+32,s=9*s/5+32):(e=5*(e-32)/9,t=5*(t-32)/9,s=5*(s-32)/9),r={temp:e=n(e),min:t=n(t),max:s=n(s)},r},a=(e,n,t,s)=>{const a=document.querySelector(".min-max");document.querySelector(".temperature").innerHTML=`\n        <span>${e}</span>\n        <span>&deg;${s}</span>\n        `,a.innerHTML=`\n    <div className="min-max">\n      Min: <span class="min">${n}</span>\n      <span>&deg;${s}</span>\n      Max: <span class="max">${t}</span>\n      <span>&deg;${s}</span>\n    </div>\n  `},r=(e,n,t)=>{const r=document.querySelector(".details"),c=document.querySelector(".card"),i=document.querySelector(".icon img"),o=document.querySelector("img.weather-condition");document.querySelector(".loading").remove(),document.querySelector(".main-card").style.display="block";const{main:d,weather:l,sys:m}=e,{humidity:p,pressure:u,temp:h,temp_min:y,temp_max:g}=d;let{pod:x}=m;x="d"===x?"day":"night";const v=`\n      <h5 class="mt-5 mb-3">\n      \x3c!-- City Name --\x3e\n        ${n}, ${t}\n      </h5>\n      <div class="my-3">\n        \x3c!-- Weather Conditions --\x3e\n        ${l[0].description}\n      </div>\n      <div class="display-4 my-4 temperature">\n        <span>${h}</span>\n        <span>&deg;C</span>\n      </div>\n      <div class="card-footer d-flex justify-content-around align-items-center">\n        <div class="min-max">\n           Min: <span class="min">${y}</span>\n          <span>&deg;C</span>\n           Max: <span class="max">${g}</span>\n          <span>&deg;C</span>\n        </div>\n        <div class="pressure">\n          <span>Humidity: ${p}%</span>\n          <span>Pressure: ${u}</span><span class="text-lowercase"> mb</span> \n        </div>\n         <div class="wind">\n          <span>Wind: 20&deg; Speed: 40</span><span class="text-lowercase">m/s</span>\n        </div>\n        <span class="mr-0">fahrenheit</span>\n        <div class="switch ml-0">\n         <input\n            id="switch-1"\n            type="checkbox"\n            class="switch-input chk-fahrenheit"\n          />\n          <label for="switch-1" class="switch-label">fahrenheit</label>\n        </div>\n      </div>\n  `;r.innerHTML=v;const w=((e,n)=>`./src/assets/${n}/${e}.jpg`)(l[0].main,x);o.setAttribute("src",w);const f=`http://openweathermap.org/img/w/${l[0].icon}.png`;i.setAttribute("src",f),c.classList.contains("d-none")&&c.classList.remove("d-none"),document.querySelector(".chk-fahrenheit").addEventListener("change",(e=>(e=>{const n=document.querySelector(".temperature"),t=document.querySelector(".min"),r=document.querySelector(".max"),c=n.textContent,i=t.textContent,o=r.textContent;if(e.target.checked){const{temp:e,min:n,max:t}=s(c,i,o,"F");a(e,n,t,"F")}else{const{temp:e,min:n,max:t}=s(c,i,o,"C");a(e,n,t,"C")}})(e)))};(()=>{const n=document.querySelector("#content");n.classList.add("container");const t=()=>{const n=document.querySelector("form");n.addEventListener("submit",(t=>{t.preventDefault();const s=n.city.value.trim(),a=(()=>{const e=document.createElement("div");return e.classList.add("loading","text-center","mx-auto"),e.innerHTML='\n  <h4 class=\'text-info mr-2\'>Loading...</h4>\n  <img src="../src/assets/loading.gif" alt="Loading">\n  ',e})();n.after(a),document.querySelector(".main-card").style.display="none",setTimeout((()=>{(async n=>{try{const t=new class{constructor(){this.baseURI="https://api.openweathermap.org/data/2.5/forecast"}async getWeatherConditions(n){this.baseURI+=`?q=${n}&appid=${e.weatherAPIKey}&units=metric`;const t=await fetch(this.baseURI);return 200!==t.status?new Error("Something went wrong, please try again!"):await t.json()}};let s=await t.getWeatherConditions(n);const{city:a,list:c}=s,i=new class{constructor(){this.baseURI="https://restcountries.eu/rest/v2/alpha/"}async getCountry(e){this.baseURI+=`${e}`;const n=await fetch(this.baseURI);return 200!==n.status?new Error("Something went wrong, please try again!"):await n.json()}};s=await i.getCountry(a.country);const{name:o}=s;r(c[0],a.name,o)}catch{const e="Something went wrong. Please search for a valid city!";document.querySelector(".loading").remove(),(e=>{const n=document.createElement("div"),t=document.querySelector("#content"),s=document.querySelector(".heading");n.className="alert alert-danger",n.appendChild(document.createTextNode(e)),t.insertBefore(n,s),setTimeout((()=>{document.querySelector(".alert").remove()}),3e3)})(e)}})(s)}),2e3),n.reset()}))};return{init(){(()=>{const e=(()=>{const e=document.createElement("form");return e.innerHTML='\n  <label for="city">Enter a location and prss enter key for a weather info</label>\n        <input type="text" name="city" class="form-control p-3" ></input>\n  ',e})();n.append(e);const t=(()=>{const e=document.createElement("div");return e.classList.add("card","rounded","d-none","main-card"),e.innerHTML='\n        <img src="https://via.placeholder.com/150" class="weather-condition card-img-top img-fluid">\n        <div class="icon bg-light mx-auto text-center">\n          \x3c!-- Weather Icon --\x3e\n          <img src="" alt="">\n        </div>\n        <div class="text-muted text-uppercase text-center details">\n          <h5>\n            \x3c!-- City Name --\x3e\n            City Name\n          </h5>\n          <div class="my-3">\n            \x3c!-- Weather Conditions --\x3e\n            Weather Conditions\n          </div>\n          <div class="display-4 my-2 temperature">\n            <span>Temp</span>\n            <span>&deg;C</span>\n          </div>\n          <div class="card-footer">\n            <div class="min-max">\n             Min: <span class="min">20</span><span>&deg;C</span>\n             Max: <span class="max">40</span><span>&deg;C</span>\n            </div>\n          </div>\n          <span class="mr-0">fahrenheit</span>\n          <div class="switch ml-0">\n          <input\n              id="switch-1"\n              type="checkbox"\n              class="switch-input chk-fahrenheit"\n            />\n            <label for="switch-1" class="switch-label">fahrenheit</label>\n          </div>\n        </div>\n  ',e})();n.append(t)})(),t()}}})().init()})()})();